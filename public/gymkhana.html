<!DOCTYPE html>
<html lang="en" class="scroll-smooth">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Student Gymkhana - IIT Indore</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    
    <style>
        /* Apply the Inter font */
        body {
            font-family: 'Inter', sans-serif;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
        }
        
        /* Helper class to hide elements */
        .page {
            display: none; /* Hidden by default */
        }
        .page.active {
            display: block; /* Shown when active */
        }

        /* Custom style for active admin buttons */
        .admin-tab {
            transition: all 0.2s;
            border-radius: 0.5rem; /* rounded-lg */
            border-width: 2px;
            font-weight: 700; /* font-bold */
            padding-top: 0.75rem; /* py-3 */
            padding-bottom: 0.75rem; /* py-3 */
            padding-left: 1.5rem; /* px-6 */
            padding-right: 1.5rem; /* px-6 */
        }
        .admin-tab:not(.active) {
            border-color: #D1D5DB; /* gray-300 */
            color: #4B5563; /* gray-700 */
            background-color: #FFFFFF; /* white */
        }
        .admin-tab.active {
            background-color: #4F46E5; /* indigo-600 */
            color: #FFFFFF;
            border-color: #4F46E5;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -2px rgba(0, 0, 0, 0.06);
        }

        /* Smooth scroll behavior */
        html {
            scroll-behavior: smooth;
        }

        /* Custom shadow for cards */
        .card-hover {
            transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
        }
        .card-hover:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Gradient text effect */
        .text-gradient {
            background-image: linear-gradient(to right, #4F46E5, #D946EF);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }
        
        /* New: Voting Modal Styles */
        .voting-container {
            max-height: 80vh;
            overflow-y: auto;
            -webkit-overflow-scrolling: touch;
        }
        
        /* Style for full-width view sections */
        .full-page-view {
            transition: opacity 0.3s ease-in-out;
            min-height: 500px;
        }
    </style>
</head>
<body class="bg-gray-50 text-gray-900">

    <div id="medical-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-[100] hidden items-center justify-center p-4">
        <div class="bg-white rounded-xl p-8 max-w-lg w-full shadow-2xl transform transition-all scale-100">
            <h3 class="text-3xl font-bold text-red-600 flex items-center"><i class="fas fa-heartbeat mr-3"></i> IMMEDIATE MEDICAL ATTENTION</h3>
            <p class="mt-4 text-gray-700">
                **Are you experiencing a severe, life-threatening emergency?** If yes, please use the following contacts immediately.
            </p>
            <div class="mt-6 space-y-3">
                <a href="tel:9999999998" class="block w-full text-center bg-red-600 text-white font-bold py-3 rounded-lg hover:bg-red-700 transition">
                    <i class="fas fa-phone-alt mr-2"></i> Call Campus Ambulance/Health Now (99999 99998)
                </a>
                <a href="tel:108" class="block w-full text-center border-2 border-red-600 text-red-600 font-bold py-3 rounded-lg hover:bg-red-50 transition">
                    <i class="fas fa-ambulance mr-2"></i> Dial 108 (External Ambulance)
                </a>
            </div>
            <button onclick="hideModal('medical-modal')" class="mt-6 w-full text-gray-500 hover:text-gray-700 font-medium">
                Close / I am okay
            </button>
        </div>
    </div>
    <div id="voting-modal" class="fixed inset-0 bg-gray-900 bg-opacity-75 z-[100] hidden items-center justify-center p-4">
        <div class="bg-white rounded-xl max-w-3xl w-full shadow-2xl transform transition-all scale-100 p-0">
            <div class="p-6 bg-indigo-700 text-white rounded-t-xl flex justify-between items-center">
                <h3 class="text-2xl font-bold flex items-center"><i class="fas fa-vote-yea mr-3"></i> OFFICIAL ELECTION BALLOT</h3>
                <button onclick="hideModal('voting-modal')" class="text-white hover:text-gray-200"><i class="fas fa-times fa-lg"></i></button>
            </div>
            <div class="voting-container p-6">
                <p class="mb-4 text-sm text-red-600 font-medium border border-red-200 bg-red-50 p-2 rounded">
                    WARNING: This is a secure ballot. Once you click "Submit Final Vote," your choices cannot be changed.
                </p>

                <form id="voting-form" class="space-y-6">
                    </form>
                
                <div id="vote-message" class="mt-6 text-center hidden p-3 rounded-lg font-medium"></div>

                <div class="mt-6 pt-4 border-t border-gray-200">
                    <button type="submit" form="voting-form" class="w-full bg-green-600 text-white font-bold py-3 rounded-lg hover:bg-green-700 transition">
                        SUBMIT FINAL VOTE <i class="fas fa-check ml-2"></i>
                    </button>
                    <p class="text-xs text-gray-500 mt-2 text-center">Your Roll Number will be recorded against your vote for authentication.</p>
                </div>
            </div>
        </div>
    </div>
    <nav class="bg-white/95 shadow-md sticky top-0 z-50 backdrop-blur-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-20">
                <div class="flex-shrink-0">
                    <a href="#" onclick="showPage('home')" class="flex items-center space-x-2">
                        <img class="h-12 w-auto" src="https://placehold.co/100x100/003366/FFFFFF?text=IITI&font=inter" alt="IIT Indore Logo">
                        <span class="font-extrabold text-xl text-indigo-800">Gymkhana</span>
                    </a>
                </div>
                
                <div class="hidden md:flex md:items-center md:space-x-8">
                    <a href="#" onclick="showPage('home')" class="font-medium text-gray-700 hover:text-indigo-600 transition duration-150">Home</a>
                    
                    <a href="#" onclick="showPage('membersPage')" class="font-medium text-gray-700 hover:text-indigo-600 transition duration-150">Members</a>
                    
                    <a href="#" onclick="showPage('aiTechHub')" class="font-medium text-gray-700 hover:text-indigo-600 transition duration-150">Tech Usage</a>
                    
                    <div class="relative" id="desktop-dropdown-container">
                        <button type="button" onclick="toggleDropdown('desktop-dropdown')" class="font-medium text-gray-700 hover:text-indigo-600 transition duration-150 flex items-center">
                            Clubs
                            <i class="fas fa-chevron-down text-xs ml-1"></i>
                        </button>
                        <div id="desktop-dropdown" class="hidden absolute z-10 -ml-4 mt-3 transform px-2 w-screen max-w-xs sm:px-0 lg:ml-0 lg:left-1/2 lg:-translate-x-1/2">
                            <div class="rounded-lg shadow-lg ring-1 ring-black ring-opacity-5 overflow-hidden">
                                <div class="relative grid gap-6 bg-white px-5 py-6 sm:gap-8 sm:p-8">
                                    <a href="#" onclick="showPage('techClubs')" class="-m-3 p-3 flex items-start rounded-lg hover:bg-gray-50 transition">
                                        <i class="fas fa-cogs fa-fw text-indigo-600 mt-1"></i>
                                        <div class="ml-4">
                                            <p class="text-base font-medium text-gray-900">SciTech Council</p>
                                            <p class="mt-1 text-sm text-gray-500">Innovation and technology.</p>
                                        </div>
                                    </a>
                                    <a href="#" onclick="showPage('culturalClubs')" class="-m-3 p-3 flex items-start rounded-lg hover:bg-gray-50 transition">
                                        <i class="fas fa-palette fa-fw text-rose-500 mt-1"></i>
                                        <div class="ml-4">
                                            <p class="text-base font-medium text-gray-900">Cultural Council</p>
                                            <p class="mt-1 text-sm text-gray-500">Creativity and expression.</p>
                                        </div>
                                    </a>
                                    <a href="#" onclick="showPage('sportsClubs')" class="-m-3 p-3 flex items-start rounded-lg hover:bg-gray-50 transition">
                                        <i class="fas fa-trophy fa-fw text-green-500 mt-1"></i>
                                        <div class="ml-4">
                                            <p class="text-base font-medium text-gray-900">Sports Council</p>
                                            <p class="mt-1 text-sm text-gray-500">Fitness and teamwork.</p>
                                        </div>
                                    </a>
                                    <a href="#" onclick="showPage('academicClubs')" class="-m-3 p-3 flex items-start rounded-lg hover:bg-gray-50 transition">
                                        <i class="fas fa-graduation-cap fa-fw text-amber-500 mt-1"></i>
                                        <div class="ml-4">
                                            <p class="text-base font-medium text-gray-900">Academic Council</p>
                                            <p class="mt-1 text-sm text-gray-500">Beyond the curriculum.</p>
                                        </div>
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <a href="#" onclick="showPage('events')" class="font-medium text-gray-700 hover:text-indigo-600 transition duration-150">Events</a>
                    <a href="#" onclick="showPage('elections')" class="font-medium text-gray-700 hover:text-indigo-600 transition duration-150">Elections</a>
                    
                    <a href="#" onclick="showPage('safetyNet')" class="font-bold text-indigo-600 hover:text-indigo-700 transition duration-150 border-2 border-indigo-600 rounded-lg px-3 py-1 bg-indigo-50 hover:bg-indigo-100">Help!</a>
                </div>
                
                <div class="-mr-2 flex md:hidden">
                    <button type="button" onclick="toggleMobileMenu()" class="bg-white rounded-md p-2 inline-flex items-center justify-center text-gray-400 hover:text-gray-500 hover:bg-gray-100 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-indigo-500" aria-expanded="false">
                        <span class="sr-only">Open main menu</span>
                        <i id="menu-icon-open" class="fas fa-bars h-6 w-6"></i>
                        <i id="menu-icon-close" class="fas fa-times h-6 w-6 hidden"></i>
                    </button>
                </div>
            </div>
        </div>

        <div id="mobile-menu" class="md:hidden hidden">
            <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
                <a href="#" onclick="showPage('home')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium">Home</a>
                
                <a href="#" onclick="showPage('membersPage')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium">Members</a>
                
                <a href="#" onclick="showPage('aiTechHub')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium">Tech Usage</a>
                
                <a href="#" onclick="showPage('safetyNet')" class="text-white bg-indigo-600 hover:bg-indigo-700 block px-3 py-2 rounded-md text-base font-bold text-center">I Need Help! (Safety Net)</a>

                <div class="border-t border-gray-200 pt-2">
                    <p class="px-3 py-2 text-sm font-semibold text-gray-500 uppercase">Clubs</p>
                    <a href="#" onclick="showPage('techClubs')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium ml-4">SciTech Council</a>
                    <a href="#" onclick="showPage('culturalClubs')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium ml-4">Cultural Council</a>
                    <a href="#" onclick="showPage('sportsClubs')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium ml-4">Sports Council</a>
                    <a href="#" onclick="showPage('academicClubs')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium ml-4">Academic Council</a>
                </div>

                <div class="border-t border-gray-200 pt-2">
                    <a href="#" onclick="showPage('events')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium">Events</a>
                    <a href="#" onclick="showPage('elections')" class="text-gray-700 hover:bg-gray-50 block px-3 py-2 rounded-md text-base font-medium">Elections</a>
                </div>
            </div>
        </div>
    </nav>
    
    <main>

        <div id="home" class="page active">
            
            <section class="relative h-[85vh] min-h-[600px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1541339907198-e08756dedf3f?auto=format&fit=crop&q=80&w=1920&h=1080" 
                                alt="IIT Indore Campus" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-indigo-900 bg-opacity-60"></div>
                </div>
                
                <div class="relative z-10 p-4">
                    <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.5)">
                        Student Gymkhana
                    </h1>
                    <h2 class="text-3xl md:text-5xl font-medium mt-4 opacity-90" style="text-shadow: 1px 1px 4px rgba(0,0,0,0.4)">
                        IIT Indore
                    </h2>
                    <p class="mt-8 max-w-2xl text-lg md:text-xl opacity-90">
                        The center of all student activities, fostering leadership, creativity, and community on campus.
                    </p>
                </div>
            </section>
            
            <section id="safety-net-home-section" class="py-16 bg-indigo-900 text-white shadow-2xl">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="text-4xl md:text-5xl font-extrabold tracking-tight">
                        Safety Net <span class="text-yellow-300">|</span> I Need Help <span class="text-yellow-300">!!!</span>
                    </h2>
                    <p class="mt-4 text-xl opacity-90 max-w-3xl mx-auto">
                        Immediate access to essential resources and support lines. We are here for you 24/7.
                    </p>

                    <div class="mt-12 grid grid-cols-2 lg:grid-cols-4 gap-6">
                        <a href="tel:9999999999" class="p-6 bg-indigo-800 hover:bg-indigo-700 rounded-xl shadow-lg transition duration-300 card-hover flex flex-col items-center justify-center space-y-3">
                            <i class="fas fa-phone-alt fa-3x text-white"></i>
                            <span class="text-lg md:text-xl font-bold">Emergency Call Now</span>
                            <span class="text-xs md:text-sm opacity-80">(Campus Security)</span>
                        </a>
                        
                        <a href="#" onclick="showModal('medical-modal'); return false;" class="p-6 bg-indigo-800 hover:bg-indigo-700 rounded-xl shadow-lg transition duration-300 card-hover flex flex-col items-center justify-center space-y-3">
                            <i class="fas fa-ambulance fa-3x text-white"></i>
                            <span class="text-lg md:text-xl font-bold">Medical Emergency</span>
                            <span class="text-xs md:text-sm opacity-80">(We are here)</span>
                        </a>

                        <a href="#" onclick="showPage('safetyNet'); return false;" class="p-6 bg-indigo-800 hover:bg-indigo-700 rounded-xl shadow-lg transition duration-300 card-hover flex flex-col items-center justify-center space-y-3">
                            <i class="fas fa-headset fa-3x text-white"></i>
                            <span class="text-lg md:text-xl font-bold">Raise a Concern</span>
                            <span class="text-xs md:text-sm opacity-80">(Confidential Reporting)</span>
                        </a>

                        <a href="#" onclick="showPage('safetyNet'); return false;" class="p-6 bg-indigo-800 hover:bg-indigo-700 rounded-xl shadow-lg transition duration-300 card-hover flex flex-col items-center justify-center space-y-3">
                            <i class="fas fa-user-shield fa-3x text-white"></i>
                            <span class="text-lg md:text-xl font-bold">Management Access</span>
                            <span class="text-xs md:text-sm opacity-80">(Escalation Path)</span>
                        </a>
                    </div>

                    <button onclick="showPage('safetyNet')" class="mt-10 inline-flex items-center px-8 py-4 border-2 border-white text-base font-bold rounded-lg shadow-md text-indigo-900 bg-white hover:bg-gray-100 transition duration-300">
                        View All Support Options & Contacts <i class="fas fa-arrow-right ml-3"></i>
                    </button>
                </div>
            </section>
            <section class="py-12 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="text-3xl font-extrabold text-gray-900">
                        AI Productivity Hub: Tools for Gymkhana Management
                    </h2>
                    <p class="mt-4 text-lg text-gray-500">
                        Access IIT-protected AI tools to streamline reports, communication, and decision-making.
                    </p>
                    <a href="#" onclick="showPage('aiTechHub')" class="mt-6 inline-flex items-center px-8 py-3 border border-transparent text-base font-bold rounded-lg shadow-md text-white bg-teal-600 hover:bg-teal-700 transition duration-300">
                        Explore AI Tools <i class="fas fa-robot ml-3"></i>
                    </a>
                </div>
            </section>
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
                    <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Our Structure</h2>
                    <p class="mt-2 text-4xl font-extrabold text-gray-900 sm:text-5xl">
                        The Councils
                    </p>
                    <p class="mt-6 max-w-2xl mx-auto text-xl text-gray-500">
                        The Gymkhana is organized into specialized councils, each dedicated to a specific domain of student life.
                    </p>
                    
                    <div class="mt-16 grid grid-cols-1 gap-10 sm:grid-cols-2 lg:grid-cols-3">
                        <div class="p-8 bg-gray-50 rounded-2xl shadow-lg transition-all duration-300 hover:bg-white hover:shadow-2xl">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-blue-100 text-blue-600 mx-auto">
                                <i class="fas fa-gavel fa-2x"></i>
                            </div>
                            <h3 class="mt-6 text-2xl font-bold text-gray-900">Presidential Council</h3>
                            <p class="mt-3 text-gray-500">
                                Oversees executive functions and coordinates all councils.
                            </p>
                        </div>
                        <div class="p-8 bg-gray-50 rounded-2xl shadow-lg transition-all duration-300 hover:bg-white hover:shadow-2xl">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-indigo-100 text-indigo-600 mx-auto">
                                <i class="fas fa-cogs fa-2x"></i>
                            </div>
                            <h3 class="mt-6 text-2xl font-bold text-gray-900">SciTech Council</h3>
                            <p class="mt-3 text-gray-500">
                                Driving technical innovation, from coding to robotics.
                            </p>
                        </div>
                        <div class="p-8 bg-gray-50 rounded-2xl shadow-lg transition-all duration-300 hover:bg-white hover:shadow-2xl">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-rose-100 text-rose-600 mx-auto">
                                <i class="fas fa-palette fa-2x"></i>
                            </div>
                            <h3 class="mt-6 text-2xl font-bold text-gray-900">Cultural Council</h3>
                            <p class="mt-3 text-gray-500">
                                Celebrating art, music, dance, and diversity.
                            </p>
                        </div>
                        <div class="p-8 bg-gray-50 rounded-2xl shadow-lg transition-all duration-300 hover:bg-white hover:shadow-2xl">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-amber-100 text-amber-600 mx-auto">
                                <i class="fas fa-graduation-cap fa-2x"></i>
                            </div>
                            <h3 class="mt-6 text-2xl font-bold text-gray-900">Academic Council</h3>
                            <p class="mt-3 text-gray-500">
                                Bridging the gap between students and academics.
                            </p>
                        </div>
                        <div class="p-8 bg-gray-50 rounded-2xl shadow-lg transition-all duration-300 hover:bg-white hover:shadow-2xl">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-green-100 text-green-600 mx-auto">
                                <i class="fas fa-trophy fa-2x"></i>
                            </div>
                            <h3 class="mt-6 text-2xl font-bold text-gray-900">Sports Council</h3>
                            <p class="mt-3 text-gray-500">
                                Promoting physical wellness and sporting spirit.
                            </p>
                        </div>
                        <div class="p-8 bg-gray-50 rounded-2xl shadow-lg transition-all duration-300 hover:bg-white hover:shadow-2xl">
                            <div class="flex items-center justify-center h-16 w-16 rounded-full bg-cyan-100 text-cyan-600 mx-auto">
                                <i class="fas fa-bullhorn fa-2x"></i>
                            </div>
                            <h3 class="mt-6 text-2xl font-bold text-gray-900">COA Council</h3>
                            <p class="mt-3 text-gray-500">
                                Fosters counselling, alumni relations, and outreach.
                            </p>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="py-24 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h2 class="text-4xl font-extrabold text-gray-900">Executive Members</h2>
                        <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-500">
                            Meet the elected student leaders guiding the Gymkhana.
                        </p>
                    </div>
                    
                    <div id="home-members-grid" class="mt-16 grid grid-cols-1 gap-10 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
                        </div>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="flex flex-col md:flex-row items-center gap-16">
                        <div class="md:w-1/2">
                            <img src="https://images.unsplash.com/photo-1522202176988-66273c2fd55f?auto=format&fit=crop&w=1200&q=80" 
                                            alt="Students" 
                                            class="rounded-2xl shadow-xl w-full h-auto object-cover">
                        </div>
                        <div class="md:w-1/2">
                            <h2 class="text-base text-indigo-600 font-semibold tracking-wide uppercase">Who We Are</h2>
                            <p class="mt-2 text-4xl font-extrabold text-gray-900 sm:text-5xl">About the Gymkhana</p>
                            
                            <div id="home-about-text" class="mt-6 text-lg text-gray-500 space-y-4">
                                <p>Loading...</p>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="py-24 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h2 class="text-4xl font-extrabold text-gray-900">Explore Our Clubs</h2>
                        <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-500">
                            Find your passion. Join a community.
                        </p>
                    </div>
                    
                    <div class="mt-16 grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8">
                        <div class="relative rounded-2xl shadow-2xl overflow-hidden group card-hover">
                            <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1200&q=80" alt="Tech" class="w-full h-96 object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"></div>
                            <div class="absolute inset-0 p-8 flex flex-col justify-end">
                                <i class="fas fa-cogs fa-3x text-indigo-300"></i>
                                <h3 class="mt-4 text-3xl font-bold text-white">SciTech Council</h3>
                                <p class="mt-2 text-indigo-100 opacity-90">From AI to Robotics, build the future.</p>
                                <button onclick="showPage('techClubs')" class="mt-6 self-start inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-indigo-600 hover:bg-indigo-700">
                                    See More <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                        
                        <div class="relative rounded-2xl shadow-2xl overflow-hidden group card-hover">
                            <img src="https://placehold.co/1200x800/BE185D/FFFFFF?text=Cultural&font=inter" alt="Cultural" class="w-full h-96 object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"></div>
                            <div class="absolute inset-0 p-8 flex flex-col justify-end">
                                <i class="fas fa-palette fa-3x text-rose-300"></i>
                                <h3 class="mt-4 text-3xl font-bold text-white">Cultural Council</h3>
                                <p class="mt-2 text-rose-100 opacity-90">Express yourself through art, music, and more.</p>
                                <button onclick="showPage('culturalClubs')" class="mt-6 self-start inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-rose-600 hover:bg-rose-700">
                                    See More <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="relative rounded-2xl shadow-2xl overflow-hidden group card-hover">
                            <img src="https://placehold.co/1200x800/166534/FFFFFF?text=Sports&font=inter" alt="Sports" class="w-full h-96 object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"></div>
                            <div class="absolute inset-0 p-8 flex flex-col justify-end">
                                <i class="fas fa-trophy fa-3x text-green-300"></i>
                                <h3 class="mt-4 text-3xl font-bold text-white">Sports Council</h3>
                                <p class="mt-2 text-green-100 opacity-90">Unleash your spirit on the field.</p>
                                <button onclick="showPage('sportsClubs')" class="mt-6 self-start inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-green-600 hover:bg-green-700">
                                    See More <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>

                        <div class="relative rounded-2xl shadow-2xl overflow-hidden group card-hover">
                            <img src="https://placehold.co/1200x800/B45309/FFFFFF?text=Academic&font=inter" alt="Academic" class="w-full h-96 object-cover transition-transform duration-500 group-hover:scale-110">
                            <div class="absolute inset-0 bg-gradient-to-t from-gray-900 via-gray-900/70 to-transparent"></div>
                            <div class="absolute inset-0 p-8 flex flex-col justify-end">
                                <i class="fas fa-graduation-cap fa-3x text-amber-300"></i>
                                <h3 class="mt-4 text-3xl font-bold text-white">Academic Council</h3>
                                <p class="mt-2 text-amber-100 opacity-90">Explore interests beyond the curriculum.</p>
                                <button onclick="showPage('academicClubs')" class="mt-6 self-start inline-flex items-center px-6 py-3 border border-transparent text-base font-medium rounded-md shadow-sm text-white bg-amber-600 hover:bg-amber-700">
                                    See More <i class="fas fa-arrow-right ml-2"></i>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        
        <div id="membersPage" class="page">
            
            <section class="relative h-[60vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                                        <div class="absolute inset-0 bg-gray-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight" style="text-shadow: 2px 2px 8px rgba(0,0,0,0.5)">
                        Our Members
                    </h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        The elected representatives and student leaders of the Gymkhana Council.
                    </p>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <div class="text-center">
                        <h2 class="text-4xl font-extrabold text-gray-900">Elected Office Bearers (2025-26)</h2>
                        <p class="mt-4 max-w-2xl mx-auto text-xl text-gray-500">
                            Meet the current team of dedicated students driving change and organizing campus life.
                        </p>
                    </div>

                    <div id="members-page-grid" class="mt-16 grid grid-cols-1 gap-10 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4">
                        <p class="col-span-4 text-center text-gray-500">Loading member data...</p>
                    </div>
                </div>
            </section>

        </div>
        <div id="techClubs" class="page">
            
            <section class="relative h-[60vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1518770660439-4636190af475?auto=format&fit=crop&w=1920&q=80" 
                                alt="SciTech Background" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-indigo-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight">SciTech Council</h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        Where ideas become reality.
                    </p>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Our Clubs</h2>
                    
                    <div id="tech-clubs-grid" class="mt-16 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                        </div>
                </div>
            </section>
            
            <section class="py-24 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">SciTech Council Heads</h2>
                    
                    <div id="tech-heads-grid" class="mt-16 grid grid-cols-1 gap-12 sm:grid-cols-2">
                        </div>
                </div>
            </section>
        </div>

        <div id="culturalClubs" class="page">
            
            <section class="relative h-[60vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1514525253161-7a46d19cd819?auto=format&fit=crop&w=1920&q=80" 
                                alt="Cultural Background" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-rose-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight">Cultural Council</h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        Art is how we decorate space, music is how we decorate time.
                    </p>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Our Clubs</h2>
                    
                    <div id="cultural-clubs-grid" class="mt-16 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                        </div>
                </div>
            </section>
            
            <section class="py-24 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Cultural Council Heads</h2>
                    
                    <div id="cultural-heads-grid" class="mt-16 grid grid-cols-1 gap-12 sm:grid-cols-2">
                        </div>
                </div>
            </section>
        </div>

        <div id="sportsClubs" class="page">
            
            <section class="relative h-[60vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1579952363873-27f3bade9f55?auto=format&fit=crop&w=1920&q=80" 
                                alt="Sports Background" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-green-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight">Sports Council</h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        Strength. Stamina. Spirit.
                    </p>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Our Clubs</h2>
                    
                    <div id="sports-clubs-grid" class="mt-16 grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-8">
                        </div>
                </div>
            </section>
            
            <section class="py-24 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Sports Council Heads</h2>
                    
                    <div id="sports-heads-grid" class="mt-16 grid grid-cols-1 gap-12 sm:grid-cols-2">
                        </div>
                </div>
            </section>
        </div>

        <div id="academicClubs" class="page">
            
            <section class="relative h-[60vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1488998427799-e3362cec87c3?auto=format&fit=crop&w=1920&q=80" 
                                alt="Academic Background" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-amber-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight">Academic Council</h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        Nurturing intellectual curiosity.
                    </p>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Our Clubs</h2>
                    
                    <div id="academic-clubs-grid" class="mt-16 flex justify-center">
                        </div>
                </div>
            </section>
            
            <section class="py-24 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 text-center">Academic Council Heads</h2>
                    
                    <div id="academic-heads-grid" class="mt-16 grid grid-cols-1 gap-12 sm:grid-cols-2">
                        </div>
                </div>
            </section>
        </div>

        <div id="events" class="page">
            
            <section class="relative h-[60vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1527529482837-4698179dc6ce?auto=format&fit=crop&w=1920&q=80" 
                                alt="Campus Events" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-indigo-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight">Events</h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        What's happening on campus.
                    </p>
                </div>
            </section>
            
            <section class="py-24 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    
                    <div id="events-grid" class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-10">
                        </div>
                </div>
            </section>
        </div>
        
        <div id="elections" class="page">
            
            <section class="relative h-[55vh] min-h-[400px] flex items-center justify-center text-center text-white overflow-hidden">
                <div class="absolute inset-0">
                    <img src="https://images.unsplash.com/photo-1582213782179-e0d53f98f2ca?auto=format&fit=crop&w=1920&q=80" 
                                alt="Elections Background" 
                                class="w-full h-full object-cover">
                    <div class="absolute inset-0 bg-gray-900 bg-opacity-70"></div>
                </div>
                <div class="relative z-10 p-4">
                    <h1 class="text-6xl md:text-8xl font-extrabold tracking-tight">Gymkhana Elections & Results</h1>
                    <p class="mt-6 max-w-2xl text-xl md:text-2xl opacity-90">
                        Administrative Center for Voting and Officer Data.
                    </p>
                </div>
            </section>
            
            <section class="py-16 bg-white">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    
                    <div class="flex flex-col md:flex-row space-y-4 md:space-y-0 md:space-x-4 mb-8">
                        <button id="tab-info" onclick="switchView('info-view')" class="admin-tab w-full md:w-1/2 text-base font-bold text-indigo-700 bg-indigo-50 border-indigo-600 hover:bg-indigo-100 transition duration-300">
                            <i class="fas fa-calendar-alt mr-2"></i> Election Information Hub
                        </button>
                        <button id="tab-grids" onclick="switchView('grids-view')" class="admin-tab w-full md:w-1/2 text-base font-bold text-gray-700 bg-white border-gray-400 hover:bg-gray-100 transition duration-300">
                            <i class="fas fa-medal mr-2"></i> Results / Elected students
                        </button>
                    </div>

                    <div id="admin-content-container">
                        
                        <div id="info-view" class="space-y-8 full-page-view">
                            
                            <h2 class="text-3xl font-extrabold text-gray-900 border-b pb-2 flex items-center">
                                <i class="fas fa-info-circle text-indigo-600 mr-2"></i> Election Schedule & Latest Announcements
                            </h2>

                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                
                                <div class="bg-indigo-50 p-6 rounded-xl shadow-md border-l-4 border-indigo-600">
                                    <h3 class="text-2xl font-bold text-indigo-800 flex items-center mb-4">
                                        <i class="fas fa-calendar-check mr-3"></i> Election Schedule
                                    </h3>
                                    <ul id="election-schedule-list" class="space-y-4">
                                        <li class="text-gray-500">Loading schedule...</li>
                                    </ul>
                                </div>

                                <div class="bg-yellow-50 p-6 rounded-xl shadow-md border-l-4 border-yellow-600">
                                    <h3 class="text-2xl font-bold text-yellow-800 flex items-center mb-4">
                                        <i class="fas fa-bullhorn mr-3"></i> Latest Announcements
                                    </h3>
                                    <div id="election-announcements" class="mt-4 space-y-4">
                                        <p class="text-gray-500">No announcements yet.</p>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="mt-8 pt-4 border-t border-gray-200">
                                <button id="vote-button" onclick="showVotingModal()" class="w-full bg-green-600 text-white font-bold py-3 px-6 rounded-lg hover:bg-green-700 transition duration-300 hidden" disabled>
                                    <i class="fas fa-vote-yea mr-2"></i> VOTE NOW (Live)
                                </button>
                                <p id="voting-status" class="mt-3 text-center text-sm text-red-600">Voting is currently **CLOSED**.</p>
                            </div>
                            
                        </div>

                        <div id="grids-view" class="hidden space-y-16 full-page-view">
                            
                            <div id="results-section">
                                <h2 class="text-3xl font-extrabold text-gray-900 border-b pb-2 flex items-center">
                                    <i class="fas fa-medal text-yellow-500 mr-2"></i> Elected Office Bearers (2025-26 Results)
                                </h2>
                                
                                <div id="elected-members-container" class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-2 gap-6 mt-6">
                                    </div>
                            </div>
                            </div>
                    </div>
                    
                </div>
            </section>
        </div>
        
        <div id="safetyNet" class="page">
            <section class="relative py-32 bg-indigo-700 text-white overflow-hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                    <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight">
                        Your Safety Net
                    </h1>
                    <p class="mt-4 text-xl md:text-2xl opacity-90">
                        Immediate, Confidential, and Direct Support Resources.
                    </p>
                </div>
            </section>

            <section class="py-20 bg-gray-50">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-4xl font-extrabold text-gray-900 mb-12 text-center">I Need Help Now!</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        
                        <div class="bg-white p-8 rounded-2xl shadow-xl border-t-4 border-indigo-600 card-hover">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-exclamation-triangle fa-2x text-indigo-600"></i>
                                <h3 class="text-2xl font-bold text-gray-900">Emergency Quick Contact</h3>
                            </div>
                            <p class="mt-4 text-gray-600">
                                Use this line for immediate physical safety risks, fire, or critical campus incidents.
                            </p>
                            <div class="mt-6 space-y-4">
                                <a href="tel:9999999999" class="flex items-center text-indigo-600 hover:text-indigo-700 font-medium">
                                    <i class="fas fa-phone-alt fa-fw mr-3"></i> Call Now: +91 99999 99999
                                </a>
                                <a href="sms:+919999999999?body=Emergency%20assistance%20needed%20at%20[Location%20details]" class="flex items-center text-indigo-600 hover:text-indigo-700 font-medium">
                                    <i class="fas fa-sms fa-fw mr-3"></i> SMS (Quick Alert)
                                </a>
                                <a href="whatsapp://send?phone=+919999999999&text=I%20am%20in%20an%20emergency%20at%20[Location]" class="flex items-center text-indigo-600 hover:text-indigo-700 font-medium">
                                    <i class="fab fa-whatsapp fa-fw mr-3"></i> WhatsApp (For discreet contact)
                                </a>
                            </div>
                        </div>

                        <div class="bg-white p-8 rounded-2xl shadow-xl border-t-4 border-blue-600 card-hover">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-heartbeat fa-2x text-blue-600"></i>
                                <h3 class="text-2xl font-bold text-gray-900">Medical Emergency - We Are Here</h3>
                            </div>
                            <p class="mt-4 text-gray-600">
                                For physical illness, injury, or mental health crises. Our medical team is ready.
                            </p>
                            <div class="mt-6 space-y-4">
                                <a href="tel:9999999998" class="flex items-center text-blue-600 hover:text-blue-700 font-medium">
                                    <i class="fas fa-ambulance fa-fw mr-3"></i> Campus Health Center: +91 99999 99998
                                </a>
                                <a href="mailto:counseling@iiti.ac.in" class="flex items-center text-blue-600 hover:text-blue-700 font-medium">
                                    <i class="fas fa-envelope fa-fw mr-3"></i> Counseling Service Email
                                </a>
                                <a href="#" class="flex items-center text-blue-600 hover:text-blue-700 font-medium">
                                    <i class="fas fa-calendar-check fa-fw mr-3"></i> Book a Counseling Session
                                </a>
                            </div>
                        </div>

                        <div class="bg-white p-8 rounded-2xl shadow-xl border-t-4 border-purple-600 card-hover">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-comment-dots fa-2x text-purple-600"></i>
                                <h3 class="text-2xl font-bold text-gray-900">Raise a Concern - Confidential</h3>
                            </div>
                            <p class="mt-4 text-gray-600">
                                Submit any confidential concern, grievance, or administrative issue directly. Your anonymity is respected.
                            </p>

                            <form id="concern-form" class="mt-6 space-y-4">
                                <div>
                                    <label for="concern-name" class="block text-sm font-medium text-gray-700">Name (Optional)</label>
                                    <input type="text" id="concern-name" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 p-2 border" placeholder="Your name (for non-anonymous reports)">
                                </div>
                                <div>
                                    <label for="concern-email" class="block text-sm font-medium text-gray-700">Email (Optional)</label>
                                    <input type="email" id="concern-email" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 p-2 border" placeholder="Your email">
                                </div>
                                <div>
                                    <label for="concern-details" class="block text-sm font-medium text-gray-700">Details of Concern (Required)</label>
                                    <textarea id="concern-details" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-purple-500 focus:ring-purple-500 p-2 border" placeholder="Please describe the issue, date, and location clearly." required></textarea>
                                </div>
                                <button type="button" onclick="submitConcern(event)" class="w-full bg-purple-600 text-white font-bold py-3 rounded-lg hover:bg-purple-700 transition duration-300 flex items-center justify-center">
                                    Submit Concern <i class="fas fa-paper-plane ml-2"></i>
                                </button>
                                <div id="concern-message" class="mt-4 text-center hidden p-3 rounded-lg bg-green-100 text-green-700 font-medium"></div>
                            </form>
                            
                            <div class="mt-6 border-t pt-4 border-gray-200">
                                <p class="text-sm text-gray-500 font-medium">Other Important Resources:</p>
                                <div class="mt-2 space-y-2">
                                    <a href="mailto:icc@iiti.ac.in" class="flex items-center text-purple-600 hover:text-purple-700 font-medium text-sm">
                                        <i class="fas fa-users fa-fw mr-3"></i> Internal Complaints Committee (ICC)
                                    </a>
                                    <a href="#" class="flex items-center text-purple-600 hover:text-purple-700 font-medium text-sm">
                                        <i class="fas fa-code-branch fa-fw mr-3"></i> Anti-Ragging Hotline Details
                                    </a>
                                </div>
                            </div>
                        </div>
                    </div>

                    <h2 class="text-4xl font-extrabold text-gray-900 mt-20 mb-12 text-center">In Trouble? Reach Out Now.</h2>

                    <div class="grid grid-cols-1 lg:grid-cols-2 gap-8">
                        <div class="bg-white p-8 rounded-2xl shadow-xl border-t-4 border-indigo-600 card-hover">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-user-friends fa-2x text-indigo-600"></i>
                                <h3 class="text-2xl font-bold text-gray-900">Reach Out: Peer & Mentor Support</h3>
                            </div>
                            <p class="mt-4 text-gray-600">
                                Use this form to confidentially connect with your **Student Mentor** or **Club/Council President** for advice, academic help, or peer mediation.
                            </p>

                            <form id="peer-support-form" class="mt-6 space-y-4">
                                <div>
                                    <label for="support-role" class="block text-sm font-medium text-gray-700">I need to contact my:</label>
                                    <select id="support-role" required class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border">
                                        <option value="">Select Role...</option>
                                        <option value="mentor">Student Mentor</option>
                                        <option value="president">Club/Council President</option>
                                    </select>
                                </div>
                                <div>
                                    <label for="support-subject" class="block text-sm font-medium text-gray-700">Subject</label>
                                    <input type="text" id="support-subject" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border" placeholder="e.g., Academic stress, Club conflict" required>
                                </div>
                                <div>
                                    <label for="support-details" class="block text-sm font-medium text-gray-700">Details of Request (Required)</label>
                                    <textarea id="support-details" rows="4" class="mt-1 block w-full rounded-md border-gray-300 shadow-sm focus:border-indigo-500 focus:ring-indigo-500 p-2 border" placeholder="Briefly describe what kind of help or connection you need." required></textarea>
                                </div>
                                <button type="button" onclick="submitPeerSupport(event)" class="w-full bg-indigo-600 text-white font-bold py-3 rounded-lg hover:bg-indigo-700 transition duration-300 flex items-center justify-center">
                                    Send Request <i class="fas fa-handshake ml-2"></i>
                                </button>
                                <div id="peer-support-message" class="mt-4 text-center hidden p-3 rounded-lg bg-green-100 text-green-700 font-medium"></div>
                            </form>
                        </div>

                        <div class="bg-white p-8 rounded-2xl shadow-xl border-t-4 border-teal-600 card-hover">
                            <div class="flex items-center space-x-4">
                                <i class="fas fa-building fa-2x text-teal-600"></i>
                                <h3 class="text-2xl font-bold text-gray-900">Direct Access to Management</h3>
                            </div>
                            <p class="mt-4 text-gray-600">
                                For serious matters requiring intervention from high-level institutional authorities.
                            </p>
                            <ul class="mt-6 space-y-3 list-disc list-inside text-gray-600">
                                <li><span class="font-semibold text-gray-800">Dean of Student Affairs (DoSA):</span> <a href="mailto:dosa@iiti.ac.in" class="text-teal-600 hover:underline">dosa@iiti.ac.in</a></li>
                                <li><span class="font-semibold text-gray-800">Director's Office:</span> For highest level escalation.</li>
                                <li><span class="font-semibold text-gray-800">Registrar's Office:</span> For administrative support.</li>
                            </ul>
                        </div>
                    </div>
                </div>
            </section>
        </div>
        <div id="aiTechHub" class="page">
            <section class="relative py-32 bg-indigo-700 text-white overflow-hidden">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative z-10">
                    <h1 class="text-5xl md:text-7xl font-extrabold tracking-tight">Tech Usage - Play and Learn with AI</h1>
                    <p class="mt-4 text-xl md:text-2xl opacity-90">
                        Empowering IIT Indore Gymkhana with AI tools for smarter, faster, and easier work. Explore IIT-protected AI resources for presentations, reports, budgets, election results, and circulars.
                    </p>
                </div>
            </section>

            <section class="py-20 bg-gray-100">
                <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
                    <h2 class="text-3xl font-extrabold text-gray-900 mb-12 text-center">AI Tools for Productivity</h2>
                    
                    <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8">
                        <a href="https://chat.openai.com/" target="_blank" class="p-6 bg-white rounded-2xl shadow-xl border-t-4 border-green-500 card-hover">
                            <h3 class="text-2xl font-bold text-gray-900">ChatGPT</h3>
                            <p class="mt-2 text-gray-600">Use AI to write circulars, reports, or creative ideas instantly.</p>
                            <p class="mt-4 text-green-600 font-semibold flex items-center">Open ChatGPT &rarr;</p>
                        </a>

                        <a href="https://gemini.google.com/" target="_blank" class="p-6 bg-white rounded-2xl shadow-xl border-t-4 border-indigo-500 card-hover">
                            <h3 class="text-2xl font-bold text-gray-900">Google Gemini</h3>
                            <p class="mt-2 text-gray-600">Quickly generate slides, reports, and research insights.</p>
                            <p class="mt-4 text-indigo-600 font-semibold flex items-center">Open Gemini &rarr;</p>
                        </a>

                        <a href="https://claude.ai/" target="_blank" class="p-6 bg-white rounded-2xl shadow-xl border-t-4 border-amber-500 card-hover">
                            <h3 class="text-2xl font-bold text-gray-900">Claude</h3>
                            <p class="mt-2 text-gray-600">Get structured, professional writing help from Claude AI.</p>
                            <p class="mt-4 text-amber-600 font-semibold flex items-center">Open Claude &rarr;</p>
                        </a>
                    </div>

                    <div class="grid grid-cols-1 md:grid-cols-2 gap-8 mt-8 max-w-4xl mx-auto">
                        <a href="https://www.perplexity.ai/" target="_blank" class="p-6 bg-white rounded-2xl shadow-xl border-t-4 border-purple-500 card-hover">
                            <h3 class="text-2xl font-bold text-gray-900">Perplexity</h3>
                            <p class="mt-2 text-gray-600">Research smarter with AI-powered search and summaries.</p>
                            <p class="mt-4 text-purple-600 font-semibold flex items-center">Open Perplexity &rarr;</p>
                        </a>

                        <a href="https://github.com/features/copilot" target="_blank" class="p-6 bg-white rounded-2xl shadow-xl border-t-4 border-gray-500 card-hover">
                            <h3 class="text-2xl font-bold text-gray-900">GitHub Copilot</h3>
                            <p class="mt-2 text-gray-600">Use AI to help you code, automate tasks, and develop faster.</p>
                            <p class="mt-4 text-gray-600 font-semibold flex items-center">Open Copilot &rarr;</p>
                        </a>
                    </div>
                    
                    <p class="mt-16 text-lg text-gray-600 text-center">
                        <span class="font-bold text-indigo-800">Note:</span> Please use your officially protected IIT versions of these tools for any sensitive or official data processing. Play and learn at ease with AI!
                    </p>

                </div>
            </section>
        </div>
        </main>
    
    <footer class="bg-gray-900 text-gray-300">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-16">
            <div class="grid grid-cols-1 md:grid-cols-4 gap-12">
                
                <div class="col-span-1 md:col-span-2">
                    <a href="#" onclick="showPage('home')" class="flex items-center space-x-2">
                        <img class="h-10 w-auto" src="https://placehold.co/100x100/4F46E5/FFFFFF?text=IITI&font=inter" alt="IIT Indore Logo">
                        <span class="font-extrabold text-2xl text-white">Student Gymkhana</span>
                    </a>
                    <p class="mt-4 text-gray-400 max-w-lg">
                        Indian Institute of Technology Indore,
                        Khandwa Road, Simrol,
                        Indore 453552, India
                    </p>
                    <div class="mt-6 flex space-x-6">
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-linkedin fa-xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-facebook fa-xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-instagram fa-xl"></i></a>
                        <a href="#" class="text-gray-400 hover:text-white transition"><i class="fab fa-x-twitter fa-xl"></i></a>
                    </div>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold text-white uppercase tracking-wider">Quick Links</h4>
                    <ul class="mt-4 space-y-3">
                        <li><a href="#" onclick="showPage('home')" class="hover:text-white transition">Home</a></li>
                        <li><a href="#" onclick="showPage('membersPage')" class="hover:text-white transition">Members</a></li>
                        <li><a href="#" onclick="showPage('aiTechHub')" class="hover:text-white transition">Tech Usage</a></li>
                        <li><a href="#" onclick="showPage('safetyNet')" class="hover:text-indigo-400 text-indigo-300 transition font-bold">Safety Net / Help</a></li>
                        <li><a href="#" onclick="showPage('events')" class="hover:text-white transition">Events</a></li>
                        <li><a href="#" onclick="showPage('elections')" class="hover:text-white transition">Elections</a></li>
                        <li><a href="https://www.iiti.ac.in/" target="_blank" class="hover:text-white transition">IIT Indore Main Website</a></li>
                    </ul>
                </div>
                
                <div>
                    <h4 class="text-lg font-semibold text-white uppercase tracking-wider">Councils</h4>
                    <ul class="mt-4 space-y-3">
                        <li><a href="#" onclick="showPage('techClubs')" class="hover:text-white transition">SciTech</a></li>
                        <li><a href="#" onclick="showPage('culturalClubs')" class="hover:text-white transition">Cultural</a></li>
                        <li><a href="#" onclick="showPage('sportsClubs')" class="hover:text-white transition">Sports</a></li>
                        <li><a href="#" onclick="showPage('academicClubs')" class="hover:text-white transition">Academic</a></li>
                    </ul>
                </div>
                
            </div>
            
            <div class="mt-12 border-t border-gray-700 pt-8 text-center">
                <p class="text-gray-400">&copy; 2025 Student Gymkhana, IIT Indore. All rights reserved.</p>
            </div>
        </div>
    </footer>

<script>
    // Store the active page ID
    let currentPage = 'home';

    // --- GLOBAL DATA STORES ---
    let globalData = {
        events: [],
        members: [],
        clubs: [],
        heads: [],
        posts: [], 
        candidates: [], 
        announcements: [],
        settings: {},
        fullResults: {},
    };
    
    // --- MOCK SCHEDULE DATA (Used for Status Timing Logic) ---
    const MOCK_SCHEDULE_DATA = [
        { title: "Nomination Filing Starts", date: "2025-04-01", status: "completed" },
        { title: "Last Date for Nomination", date: "2025-04-05", status: "current" },
        { title: "Campaigning Period", date: "2025-04-06 to 2025-04-09", status: "upcoming" },
        { title: "Voting Day", date: "2025-04-10", status: "live" }, 
        { title: "Results Announcement", date: "2025-04-10 (Evening)", status: "upcoming" },
    ];


    // -------------------------------------------------------------
    // --- CORE UTILITIES AND NAVIGATION (Must be defined first) ---
    // -------------------------------------------------------------

    function hideModal(modalId) {
        document.getElementById(modalId).classList.add('hidden');
        document.getElementById(modalId).classList.remove('flex');
    }
    
    function showModal(modalId) {
        document.getElementById(modalId).classList.remove('hidden');
        document.getElementById(modalId).classList.add('flex');
    }

    function closeAllMenus() {
        const mobileMenu = document.getElementById('mobile-menu');
        const iconOpen = document.getElementById('menu-icon-open');
        const iconClose = document.getElementById('menu-icon-close');
        if (mobileMenu && !mobileMenu.classList.contains('hidden')) {
            mobileMenu.classList.add('hidden');
            iconOpen.classList.remove('hidden');
            iconClose.classList.add('hidden');
        }
        const desktopDropdown = document.getElementById('desktop-dropdown');
        if (desktopDropdown && !desktopDropdown.classList.contains('hidden')) {
            desktopDropdown.classList.add('hidden');
        }
    }

    // --- CRITICAL FIX: showPage function is moved out of DOMContentLoaded ---
    function showPage(pageId) {
        const currentPageEl = document.getElementById(currentPage);
        if (currentPageEl) {
            currentPageEl.classList.remove('active');
        }
        
        const newPageEl = document.getElementById(pageId);
        if (newPageEl) {
            // Hide all pages, then show the new one
            document.querySelectorAll('.page').forEach(page => page.classList.remove('active'));
            newPageEl.classList.add('active');
        }
        
        currentPage = pageId;
        window.scrollTo(0, 0);
        closeAllMenus();

        // Conditionally render dynamic content based on the destination page
        if (pageId === 'elections') {
            initializeElectionsPage();
        } else if (pageId === 'events') { 
            renderEvents(); 
        } 
        else if (pageId === 'membersPage') {
            renderMembersPage();
        }
        else if (pageId === 'techClubs' || pageId === 'culturalClubs' || pageId === 'sportsClubs' || pageId === 'academicClubs') { 
            renderClubDetails(); 
        }
    }
    
    // --- UTILITY FUNCTION: Fetch API Data Safely ---
    const fetchData = async (url) => {
        try {
            const response = await fetch('/api' + url); 
            if (!response.ok) {
                console.error(`Fetch failed for ${url}: Status ${response.status}`);
                // NOTE: Using a fallback array/object structure on failure is critical.
                return (url.includes('settings') || url.includes('full-results')) ? {} : []; 
            }
            const body = await response.json();

            if (url === '/elections/full-results') {
                return body.success && body.data ? body.data : null; 
            } else if (url.startsWith('/settings')) {
                return body.success ? body.data : {};
            }
            
            // Assuming CRUD endpoints return { success: true, data: array }
            return body.success && Array.isArray(body.data) ? body.data : [];

        } catch (error) {
            console.error(`Error fetching from ${url}:`, error);
            return (url.includes('settings') || url.includes('full-results')) ? {} : [];
        }
    };


    // --- CORE DATA LOADING ---
    const loadAllData = async () => {
        // Load data for Home Page components
        globalData.events = await fetchData('/event'); // Note: Endpoint changed to /event (singular) to match createCrudEndpoints usage for GET all.
        globalData.members = await fetchData('/member'); // <<-- CRITICAL: FETCHING MEMBERS HERE
        globalData.clubs = await fetchData('/clubs');
        globalData.heads = await fetchData('/head'); // Note: Endpoint changed to /head (singular) to match createCrudEndpoints usage for GET all.
        
        // Load data for Election components (only happens once)
        globalData.posts = await fetchData('/elections/posts');
        globalData.candidates = await fetchData('/elections/candidates');
        globalData.announcements = await fetchData('/elections/announcements');
        globalData.fullResults = await fetchData('/elections/full-results');
        globalData.settings = await fetchData('/settings');

        // Default null results to empty array/object
        globalData.events = globalData.events || [];
        globalData.members = globalData.members || [];
        globalData.clubs = globalData.clubs || [];
        globalData.heads = globalData.heads || [];
        globalData.posts = globalData.posts || [];
        globalData.candidates = globalData.candidates || [];
        globalData.announcements = globalData.announcements || [];
        globalData.settings = globalData.settings || {};
        globalData.fullResults = globalData.fullResults || {};
        
        renderHomePageContent();
        renderClubDetails(); // Render details once data is loaded for fast switching
    };


    // --- RENDERING FUNCTIONS ---
    
    // NEW: Renders content for the dedicated Members page
    function renderMembersPage() {
        const membersGrid = document.getElementById('members-page-grid');
        membersGrid.innerHTML = '';
        
        const membersToDisplay = globalData.members || [];

        if (membersToDisplay.length === 0) {
            membersGrid.innerHTML = '<p class="col-span-4 text-center text-gray-500">No executive members currently listed. Please ask the admin to add data.</p>';
            return;
        }
        
        membersToDisplay.forEach(member => {
            const initials = member.name.split(' ').map(n => n[0]).join('');
            // Use different placeholder/color for members page for a distinct look
            const placeholderImg = `https://placehold.co/100x100/1D4ED8/FFFFFF?text=${initials}`; // Blue
            const finalImgSrc = member.imageUrl ? member.imageUrl : placeholderImg;

            membersGrid.innerHTML += `
                <div class="bg-gray-50 p-6 rounded-2xl shadow-xl border-t-4 border-indigo-600 flex flex-col items-center text-center card-hover">
                    <img class="h-28 w-28 rounded-full object-cover shadow-md mb-4 ring-2 ring-indigo-300" 
                        src="${finalImgSrc}" 
                        alt="${member.name} Image"
                        onerror="this.onerror=null;this.src='${placeholderImg}'">
                    <p class="text-xl font-extrabold text-gray-900">${member.name}</p>
                    <p class="mt-2 text-base font-bold text-indigo-700">${member.position}</p>
                    <p class="mt-1 text-sm text-gray-500">${member.description || 'Student Gymkhana Representative'}</p>
                </div>
            `;
        });
    }

    function renderHomePageContent() {
        // 1. About Section
        const aboutTextContainer = document.getElementById('home-about-text');
        const aboutText = globalData.settings.about_us_text || 
                             '<p>The Student Gymkhana is the central body driving student life at IIT Indore. Please ask the Admin to update the content in the Site Settings page.</p>';
        
        aboutTextContainer.innerHTML = `<p>${aboutText}</p>`;
        
        // 2. Home Page Member Grid
        const homeMembersGrid = document.getElementById('home-members-grid');
        homeMembersGrid.innerHTML = '';
        
        const membersToDisplay = (globalData.members || []).slice(0, 8); 

        if (membersToDisplay.length === 0) {
            homeMembersGrid.innerHTML = '<p class="col-span-4 text-center text-gray-500">No executive members currently listed.</p>';
            // Note: The original public-gymkhana.js handles placeholder content better. We keep the minimalist version here as requested.
            return;
        }
        
        membersToDisplay.forEach(member => {
            const initials = member.name.split(' ').map(n => n[0]).join('');
            const placeholderImg = `https://placehold.co/100x100/4F46E5/FFFFFF?text=${initials}`;
            const finalImgSrc = member.imageUrl ? member.imageUrl : placeholderImg;

            homeMembersGrid.innerHTML += `
                <div class="bg-white p-5 rounded-xl shadow-lg border-b-4 border-indigo-500 flex flex-col items-center text-center card-hover">
                    <img class="h-20 w-20 rounded-full object-cover shadow-md mb-3" 
                        src="${finalImgSrc}" 
                        alt="${member.name} Image"
                        onerror="this.onerror=null;this.src='${placeholderImg}'">
                    <p class="text-xl font-extrabold text-gray-900">${member.name}</p>
                    <p class="mt-3 text-base font-bold text-indigo-700 border-t pt-3 border-gray-100">${member.position}</p>
                </div>
            `;
        });
    }

    function renderEvents() {
        const eventsGrid = document.getElementById('events-grid');
        eventsGrid.innerHTML = '';

        if (globalData.events.length === 0) {
            eventsGrid.innerHTML = '<p class="col-span-3 text-center text-gray-500">No upcoming events are listed.</p>';
            return;
        }

        globalData.events.forEach(event => {
            eventsGrid.innerHTML += `
                <div class="bg-white rounded-xl shadow-xl overflow-hidden card-hover">
                    <img src="${event.imageUrl}" class="w-full h-48 object-cover" onerror="this.onerror=null;this.src='https://placehold.co/800x400/374151/FFFFFF?text=Event'">
                    <div class="p-6">
                        <p class="text-xs font-semibold text-indigo-600 uppercase tracking-wider">${event.dateTag}</p>
                        <h3 class="mt-2 text-2xl font-bold text-gray-900">${event.name}</h3>
                        <p class="mt-2 text-gray-600">${event.description.substring(0, 100)}...</p>
                    </div>
                </div>
            `;
        });
    }

    function renderClubDetails() {
        const clubs = globalData.clubs || [];
        const heads = globalData.heads || [];

        const renderGrid = (gridId, councilName) => {
            const list = document.getElementById(gridId);
            if (!list) return;

            const filteredClubs = clubs.filter(c => c.council && c.council.toLowerCase() === councilName.toLowerCase());
            
            list.innerHTML = '';
            if (filteredClubs.length === 0) {
                list.innerHTML = `<p class="col-span-full text-center text-gray-500">No ${councilName} clubs listed.</p>`;
                return;
            }
             // NOTE: The public-gymkhana.js has better logic for clubs/heads, this uses the embedded simple logic for now
            filteredClubs.forEach(item => {
                const iconColor = item.council.toLowerCase().includes('scitech') ? 'text-blue-500' : 'text-indigo-500';
                list.innerHTML += `
                    <div class="bg-white p-4 rounded-lg shadow-xl text-center border-t-4 border-indigo-200 card-hover">
                        <i class="${item.icon || 'fas fa-dot-circle'} fa-3x ${iconColor}"></i> 
                        <p class="font-bold text-gray-900 mt-2">${item.name}</p>
                        <p class="text-xs text-gray-500">${item.council}</p>
                    </div>
                `;
            });
        };
        
        const renderHeadsGrid = (gridId, councilName) => {
            const list = document.getElementById(gridId);
            if (!list) return;

            const filteredHeads = heads.filter(h => h.council && h.council.toLowerCase() === councilName.toLowerCase());
            
            list.innerHTML = '';
            if (filteredHeads.length === 0) {
                list.innerHTML = `<p class="col-span-full text-center text-gray-500">No ${councilName} council heads listed.</p>`;
                return;
            }
             filteredHeads.forEach(item => {
                const initials = item.name.split(' ').map(n => n[0]).join('');
                const placeholderImg = `https://placehold.co/100x100/4F46E5/FFFFFF?text=${initials}`;
                const finalImgSrc = item.imageUrl ? item.imageUrl : placeholderImg;

                list.innerHTML += `
                    <div class="p-5 bg-white rounded-xl shadow-lg border-b-4 border-rose-500 flex flex-col items-center text-center card-hover">
                        <img class="h-20 w-20 rounded-full object-cover shadow-md mb-3" 
                            src="${finalImgSrc}" 
                            alt="${item.name} Image"
                            onerror="this.onerror=null;this.src='${placeholderImg}'">
                        <p class="text-xl font-extrabold text-gray-900">${item.name}</p>
                        <p class="mt-3 text-base font-bold text-rose-700 border-t pt-3 border-gray-100">${item.position}</p>
                        <p class="text-sm text-gray-500">Council: ${item.council}</p>
                    </div>
                `;
            });
        };

        // Render all council pages
        renderGrid('tech-clubs-grid', 'scitech');
        renderHeadsGrid('tech-heads-grid', 'scitech');
        
        renderGrid('cultural-clubs-grid', 'cultural');
        renderHeadsGrid('cultural-heads-grid', 'cultural');

        renderGrid('sports-clubs-grid', 'sports');
        renderHeadsGrid('sports-heads-grid', 'sports');
        
        renderGrid('academic-clubs-grid', 'academic');
        renderHeadsGrid('academic-heads-grid', 'academic');
    }

    // ELECTION FUNCTIONS (Used by the Elections Page)
    
    /**
     * Renders the Election Schedule using the MOCK_SCHEDULE_DATA.
     */
    function renderElectionSchedule() {
        const scheduleList = document.getElementById('election-schedule-list');
        scheduleList.innerHTML = '';
        
        // Use the mock data defined globally
        const scheduleData = MOCK_SCHEDULE_DATA; 

        scheduleData.forEach(item => {
            let statusClass = '';
            let icon = 'far fa-circle';
            if (item.status === 'completed') {
                statusClass = 'text-green-600 font-bold';
                icon = 'fas fa-check-circle';
            } else if (item.status === 'current' || item.status === 'live') {
                statusClass = 'text-red-600 font-bold';
                icon = 'fas fa-arrow-right-to-bracket animate-pulse';
            } else {
                 statusClass = 'text-gray-500';
                 icon = 'fas fa-clock';
            }
            
            scheduleList.innerHTML += `
                <li class="flex items-start space-x-3 text-gray-700">
                    <i class="${icon} fa-fw mt-1 ${statusClass}"></i>
                    <div>
                        <span class="font-semibold ${statusClass}">${item.title}</span>
                        <span class="text-sm text-gray-500 ml-2">(${item.date})</span>
                    </div>
                </li>
            `;
        });
        
        // --- Voting Button Status ---
        const votingStatusEl = document.getElementById('voting-status');
        const voteButton = document.getElementById('vote-button');
        const liveEvent = scheduleData.find(item => item.status === 'live' || item.title.includes('Voting Day'));

        if (liveEvent) {
            voteButton.classList.remove('hidden');
            voteButton.disabled = false;
            votingStatusEl.textContent = 'Voting is currently LIVE!';
            votingStatusEl.classList.add('text-green-600');
            votingStatusEl.classList.remove('text-red-600');
        } else {
            voteButton.classList.add('hidden');
            voteButton.disabled = true;
            votingStatusEl.textContent = 'Voting is currently CLOSED.';
            votingStatusEl.classList.remove('text-green-600');
            votingStatusEl.classList.add('text-red-600');
        }
    }

    /**
     * Renders the latest announcements.
     */
    function renderAnnouncements() {
        const announcementsDiv = document.getElementById('election-announcements');
        announcementsDiv.innerHTML = '';

        const announcementsToDisplay = globalData.announcements.slice().sort((a, b) => new Date(b.published_at) - new Date(a.published_at));

        if (announcementsToDisplay.length === 0) {
            announcementsDiv.innerHTML = '<p class="text-gray-500">No announcements yet.</p>';
            return;
        }

        announcementsToDisplay.slice(0, 3).forEach(announcement => {
            announcementsDiv.innerHTML += `
                <div class="border-b border-yellow-200 pb-3">
                    <p class="text-lg font-bold text-gray-900">${announcement.title}</p>
                    <p class="text-sm text-gray-700 mt-1">${announcement.content}</p>
                    <p class="text-xs text-gray-500 mt-1">Published: ${new Date(announcement.published_at).toLocaleDateString()}</p>
                </div>
            `;
        });
    }

    /**
     * Renders the elected members (winners) in the grids-view.
     */
    function renderElectedMembers() {
        const electedMembersContainer = document.getElementById('elected-members-container');
        electedMembersContainer.innerHTML = '';
        
        // Renders the list of Council Heads (assuming they are the elected officials)
        const membersToDisplay = globalData.heads || []; 

        if (membersToDisplay.length === 0) {
            electedMembersContainer.innerHTML = '<p class="col-span-2 text-center text-red-500 font-bold p-4 bg-red-50 rounded-lg">Results are not yet published. Check back later.</p>';
            return;
        }

        membersToDisplay.forEach(head => {
            const initials = head.name.split(' ').map(n => n[0]).join('');
            const placeholderImg = `https://placehold.co/100x100/4F46E5/FFFFFF?text=${initials}`;
            const finalImgSrc = head.imageUrl ? head.imageUrl : placeholderImg;

            electedMembersContainer.innerHTML += `
                <div class="bg-white p-5 rounded-xl shadow-lg border-l-4 border-yellow-500 flex items-center space-x-4 card-hover">
                    <img class="h-16 w-16 rounded-full object-cover shadow-md" 
                        src="${finalImgSrc}" 
                        alt="${head.name} Image"
                        onerror="this.onerror=null;this.src='${placeholderImg}'">
                    <div>
                        <p class="text-xl font-extrabold text-gray-900">${head.name}</p>
                        <p class="mt-1 text-base font-bold text-yellow-700">${head.position}</p>
                        <p class="text-sm text-gray-500">${head.council}</p>
                    </div>
                </div>
            `;
        });
    }
    
    // NOTE: loadVotingCandidates and related submission functions are unchanged for election logic
    /**
     * Populates the Voting Modal with positions and candidates.
     */
    function loadVotingCandidates() {
        const votingForm = document.getElementById('voting-form');
        votingForm.innerHTML = '';
        
        if (globalData.posts.length === 0 || globalData.candidates.length === 0) {
            votingForm.innerHTML = '<p class="text-red-500">No active positions or candidates listed. Please check the official election schedule.</p>';
            return;
        }
        
        // Group candidates by the post they are running for
        const candidatesByPost = globalData.candidates.reduce((acc, candidate) => {
            if (!acc[candidate.post]) {
                acc[candidate.post] = [];
            }
            acc[candidate.post].push(candidate);
            return acc;
        }, {});

        globalData.posts.forEach(post => {
            const candidates = candidatesByPost[post.position] || [];
            
            let positionHtml = `
                <div class="border border-indigo-200 p-4 rounded-lg bg-indigo-50">
                    <h4 class="text-xl font-bold text-indigo-800 mb-4 flex items-center">
                        <i class="fas fa-user-check mr-2"></i> ${post.position}
                    </h4>
                    <div class="space-y-3">
            `;
            
            if (candidates.length === 0) {
                    positionHtml += `<p class="text-gray-600">No candidates running for this post yet.</p>`;
            } else {
                candidates.forEach(candidate => {
                    const initials = candidate.name.split(' ').map(n => n[0]).join('');
                    const placeholderImg = `https://placehold.co/50x50/312E81/FFFFFF?text=${initials}`;
                    const finalImgSrc = candidate.imageUrl ? candidate.imageUrl : placeholderImg;

                    positionHtml += `
                        <label class="flex items-center p-3 border border-gray-200 bg-white rounded-lg shadow-sm hover:bg-indigo-100 cursor-pointer transition duration-150">
                            <input type="radio" name="${post.position}" value="${candidate.id}" class="h-5 w-5 text-indigo-600 focus:ring-indigo-500 mr-4" required>
                            <img src="${finalImgSrc}" class="w-10 h-10 object-cover rounded-full mr-4" onerror="this.onerror=null;this.src='${placeholderImg}'">
                            <div>
                                <p class="text-base font-semibold text-gray-900">${candidate.name}</p>
                                <p class="text-xs text-gray-600">${candidate.manifesto || candidate.rollno}</p>
                            </div>
                        </label>
                    `;
                });
                
                // Add NOTA option
                positionHtml += `
                    <label class="flex items-center p-3 border-2 border-red-300 bg-red-50 rounded-lg shadow-sm hover:bg-red-100 cursor-pointer transition duration-150">
                        <input type="radio" name="${post.position}" value="NOTA" class="h-5 w-5 text-red-600 focus:ring-red-500 mr-4" required>
                        <div class="text-red-700 font-bold">
                            <p class="text-base">None of the Above (NOTA)</p>
                        </div>
                    </label>
                `;
            }
            
            positionHtml += `</div></div>`;
            votingForm.innerHTML += positionHtml;
        });
        
        // Remove previous listener to prevent duplicate submissions
        votingForm.removeEventListener('submit', submitFinalVote);
        // Add the event listener back. This handles the actual form submission button in the modal footer.
        votingForm.addEventListener('submit', submitFinalVote);
    }

    /**
     * Switches between Election Information and Results/Elected Students view.
     */
    function switchView(viewId) {
        const infoView = document.getElementById('info-view');
        const gridsView = document.getElementById('grids-view');
        const tabInfo = document.getElementById('tab-info');
        const tabGrids = document.getElementById('tab-grids');

        if (viewId === 'info-view') {
            infoView.classList.remove('hidden');
            gridsView.classList.add('hidden');
            
            tabInfo.classList.add('text-indigo-700', 'bg-indigo-50', 'border-indigo-600', 'active');
            tabInfo.classList.remove('text-gray-700', 'bg-white', 'border-gray-400');
            
            tabGrids.classList.remove('text-indigo-700', 'bg-indigo-50', 'border-indigo-600', 'active');
            tabGrids.classList.add('text-gray-700', 'bg-white', 'border-gray-400');
            
            renderElectionSchedule();
            renderAnnouncements();
        } else if (viewId === 'grids-view') {
            infoView.classList.add('hidden');
            gridsView.classList.remove('hidden');
            
            tabGrids.classList.add('text-indigo-700', 'bg-indigo-50', 'border-indigo-600', 'active');
            tabGrids.classList.remove('text-gray-700', 'bg-white', 'border-gray-400');
            
            tabInfo.classList.remove('text-indigo-700', 'bg-indigo-50', 'border-indigo-600', 'active');
            tabInfo.classList.add('text-gray-700', 'bg-white', 'border-gray-400');
            
            renderElectedMembers(); // Call this function to populate the Elected Students section
        }
    }


    // --- Submission/Logic Functions (Minimal for public view) ---

    function submitConcern(event) {
        event.preventDefault(); 
        const messageEl = document.getElementById('concern-message');
        const details = document.getElementById('concern-details').value;

        if (details.trim() === "") {
            messageEl.textContent = "Please provide details of your concern.";
            messageEl.className = 'mt-4 text-center p-3 rounded-lg bg-red-100 text-red-700 block font-medium';
            return;
        }
        
        // Simulate submission
        messageEl.textContent = "Thank you. Your concern has been recorded and will be forwarded to the relevant authorities for confidential processing.";
        messageEl.className = 'mt-4 text-center p-3 rounded-lg bg-green-100 text-green-700 block font-medium';
        document.getElementById('concern-form').reset();
        setTimeout(() => { messageEl.classList.add('hidden'); }, 5000);
    }

    function submitPeerSupport(event) {
        event.preventDefault();
        const messageEl = document.getElementById('peer-support-message');
        const role = document.getElementById('support-role').value;
        const details = document.getElementById('support-details').value;

        if (role.trim() === "" || details.trim() === "") {
            messageEl.textContent = "Please ensure the role and details are filled out.";
            messageEl.className = 'mt-4 text-center p-3 rounded-lg bg-red-100 text-red-700 block font-medium';
            return;
        }
        
        // Simulate submission
        messageEl.textContent = `SUCCESS: Your request to connect with your ${role === 'mentor' ? 'Student Mentor' : 'Club/Council President'} has been sent.`;
        messageEl.className = 'mt-4 text-center p-3 rounded-lg bg-green-100 text-green-700 block font-medium';
        document.getElementById('peer-support-form').reset();
        setTimeout(() => { messageEl.classList.add('hidden'); }, 5000);
    }
    
    function submitFinalVote(e) {
        e.preventDefault();
        const form = e.target;
        const messageEl = document.getElementById('vote-message');
        const formData = new FormData(form);
        const votes = {};

        const positionNames = globalData.posts.map(p => p.position); 

        positionNames.forEach(position => {
            const votedCandidateId = formData.get(position);
            votes[position] = votedCandidateId || 'UNVOTED';
        });
        
        const unvotedPositions = positionNames.filter(pos => !formData.get(pos));
        
        if (unvotedPositions.length > 0) {
            messageEl.textContent = `ERROR: You must vote for all ${positionNames.length} positions. You missed ${unvotedPositions.length}.`;
            messageEl.classList.remove('hidden', 'bg-green-100', 'text-green-700');
            messageEl.classList.add('bg-red-100', 'text-red-700', 'block');
            return;
        }
        
        console.log("Submitting Votes:", votes);
        
        messageEl.textContent = "SUCCESS! Your votes have been securely cast. Thank you for participating in the Gymkhana Election.";
        messageEl.classList.remove('hidden', 'bg-red-100', 'text-red-700');
        messageEl.classList.add('bg-green-100', 'text-green-700', 'block');

        document.getElementById('vote-button').disabled = true;
        document.getElementById('vote-button').textContent = "VOTE CASTED";
        
        setTimeout(() => {
            hideModal('voting-modal');
        }, 3000);
    }


    // --- Global Hooks ---

    function toggleMobileMenu() {
        const menu = document.getElementById('mobile-menu');
        const iconOpen = document.getElementById('menu-icon-open');
        const iconClose = document.getElementById('menu-icon-close');
        
        menu.classList.toggle('hidden');
        iconOpen.classList.toggle('hidden');
        iconClose.classList.toggle('hidden');
    }

    function toggleDropdown(dropdownId) {
        const dropdown = document.getElementById(dropdownId);
        dropdown.classList.toggle('hidden');
    }

    function showVotingModal() {
        loadVotingCandidates();
        const messageEl = document.getElementById('vote-message');
        messageEl.classList.add('hidden');
        showModal('voting-modal');
    }

    // --- Initialization Hook ---

    document.addEventListener('DOMContentLoaded', () => {
        // Start data loading and show the home page
        loadAllData();
        // showPage('home'); // Removed to prevent double calling in the original code, as the page loads with 'home' active.
    });
    
</script>

    <script src="public-gymkhana.js" defer></script>

</body>
</html>